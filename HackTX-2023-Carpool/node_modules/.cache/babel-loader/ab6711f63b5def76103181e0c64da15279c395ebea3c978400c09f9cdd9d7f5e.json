{"ast":null,"code":"import _objectSpread from\"C:/Users/kaust/Carpool App/HackTX-2023-Carpool/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/kaust/Carpool App/HackTX-2023-Carpool/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/kaust/Carpool App/HackTX-2023-Carpool/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/kaust/Carpool App/HackTX-2023-Carpool/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{doc,getDoc,collection,addDoc,query,onSnapshot,deleteDoc}from\"firebase/firestore\";import{db}from\"./firebase\";import{style}from\"./styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PassengerSignUp(){var _useParams=useParams(),driverId=_useParams.driverId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),driverData=_useState2[0],setDriverData=_useState2[1];var _useState3=useState({name:\"\",phoneNumber:\"\"}),_useState4=_slicedToArray(_useState3,2),passengerForm=_useState4[0],setPassengerForm=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),passengers=_useState6[0],setPassengers=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),remainingSpots=_useState8[0],setRemainingSpots=_useState8[1];// Track available spots\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showNoSpotsPopup=_useState10[0],setShowNoSpotsPopup=_useState10[1];// State for the pop-up\nvar _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),editPassengerIndex=_useState12[0],setEditPassengerIndex=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),verifyPhoneNumber=_useState14[0],setVerifyPhoneNumber=_useState14[1];// State for verifying phone number\nvar _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isVerified=_useState16[0],setIsVerified=_useState16[1];// State to track phone number verification\nvar _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isConfirmationPopupOpen=_useState18[0],setConfirmationPopupOpen=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isLeaving=_useState20[0],setIsLeaving=_useState20[1];var unsubscribeRef=React.useRef(null);var closePopup=function closePopup(){setShowNoSpotsPopup(false);};var openEditPopup=function openEditPopup(index){setEditPassengerIndex(index);setVerifyPhoneNumber(\"\");};var handleVerifyPhoneNumber=function handleVerifyPhoneNumber(){// Implement your phone number verification logic here\n// Example: if (verifyPhoneNumber === passengers[editPassengerIndex].phoneNumber) setIsVerified(true);\nsetIsVerified(true);// For testing, consider implementing your own logic\n};var handleLeaveOrStay=function handleLeaveOrStay(action){if(action===\"leave\"){// Implement the logic to remove the passenger from the list\n// Example: const updatedPassengers = passengers.filter((_, index) => index !== editPassengerIndex);\n// setPassengers(updatedPassengers);\ndeleteDoc(doc(db,\"Driver\",driverId,\"passengers\",passengers[editPassengerIndex].id));setIsLeaving(true);}else{setConfirmationPopupOpen(true);}setEditPassengerIndex(null);};var confirmLeaveOrStay=function confirmLeaveOrStay(){if(isLeaving){// Implement any additional logic here\n}else{// Implement any additional logic for staying\n}setConfirmationPopupOpen(false);};useEffect(function(){var fetchDriverData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var driverDocRef,driverDocSnapshot,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;driverDocRef=doc(db,\"Driver\",driverId);_context.next=4;return getDoc(driverDocRef);case 4:driverDocSnapshot=_context.sent;if(driverDocSnapshot.exists()){data=driverDocSnapshot.data();setDriverData(data);}else{console.error(\"Driver data not found.\");}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching driver data:\",_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchDriverData(){return _ref.apply(this,arguments);};}();fetchDriverData();var fetchPassengers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var passengersCollectionRef,q;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:try{passengersCollectionRef=collection(db,\"Driver\",driverId,\"passengers\");q=query(passengersCollectionRef);unsubscribeRef.current=onSnapshot(q,function(snapshot){var passengerList=[];snapshot.forEach(function(doc){passengerList.push(_objectSpread({id:doc.id},doc.data()));});setPassengers(passengerList);});}catch(error){console.error(\"Error fetching passenger list:\",error);}case 1:case\"end\":return _context2.stop();}},_callee2);}));return function fetchPassengers(){return _ref2.apply(this,arguments);};}();fetchPassengers();return function(){if(unsubscribeRef.current){unsubscribeRef.current();}};},[driverId]);var handlePassengerFormSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){var passengersCollectionRef,passengerDocRef;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:e.preventDefault();if(!(!passengerForm.name||!passengerForm.phoneNumber)){_context3.next=4;break;}alert(\"Please enter valid passenger information.\");return _context3.abrupt(\"return\");case 4:if(!(remainingSpots>0)){_context3.next=19;break;}_context3.prev=5;passengersCollectionRef=collection(db,\"Driver\",driverId,\"passengers\");_context3.next=9;return addDoc(passengersCollectionRef,passengerForm);case 9:passengerDocRef=_context3.sent;setPassengerForm({name:\"\",phoneNumber:\"\"});console.log(\"Passenger sign-up successful. Passenger ID:\",passengerDocRef.id);_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](5);console.error(\"Error adding passenger information:\",_context3.t0);case 17:_context3.next=20;break;case 19:setShowNoSpotsPopup(true);case 20:case\"end\":return _context3.stop();}},_callee3,null,[[5,14]]);}));return function handlePassengerFormSubmit(_x){return _ref3.apply(this,arguments);};}();var availableSeats=driverData?driverData.seats:0;remainingSpots=availableSeats-passengers.length;return/*#__PURE__*/_jsxs(\"div\",{className:style.bg,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.container,children:[driverData&&/*#__PURE__*/_jsxs(\"div\",{className:\"border p-4 rounded-md shadow-lg my-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:style.heading,children:\"Driver Information\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",driverData.firstName,\" \",driverData.lastName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone Number:\"}),\" \",driverData.phoneNumber]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address:\"}),\" \",driverData.address]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Available Seats:\"}),\" \",availableSeats]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Remaining Spots:\"}),\" \",remainingSpots]})]}),/*#__PURE__*/_jsx(\"h2\",{className:style.heading,children:\"Passenger Sign-Up Form\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePassengerFormSubmit,className:style.form,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:style.input,placeholder:\"Name\",value:passengerForm.name,onChange:function onChange(e){return setPassengerForm(_objectSpread(_objectSpread({},passengerForm),{},{name:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:style.input,placeholder:\"Phone Number\",value:passengerForm.phoneNumber,onChange:function onChange(e){return setPassengerForm(_objectSpread(_objectSpread({},passengerForm),{},{phoneNumber:e.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:style.button,children:\"Sign Up\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.container,children:[/*#__PURE__*/_jsx(\"h2\",{className:style.heading,children:\"Current Passengers\"}),/*#__PURE__*/_jsx(\"ul\",{children:passengers.map(function(passenger,index){return/*#__PURE__*/_jsx(\"li\",{children:editPassengerIndex===index?/*#__PURE__*/_jsx(\"div\",{children:isVerified?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Options:\"}),/*#__PURE__*/_jsx(\"button\",{className:style.button,onClick:function onClick(){return handleLeaveOrStay(\"leave\");},children:\"Leave \"}),/*#__PURE__*/_jsx(\"button\",{className:style.button,onClick:function onClick(){return handleLeaveOrStay(\"stay\");},children:\"Stay\"}),/*#__PURE__*/_jsx(\"button\",{className:style.button,onClick:function onClick(){return setEditPassengerIndex(null);},children:\"Log Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Verify your identity:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your phone number\",value:verifyPhoneNumber,onChange:function onChange(e){return setVerifyPhoneNumber(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:style.button,onClick:handleVerifyPhoneNumber,children:\"Verify\"})]})}):/*#__PURE__*/_jsxs(\"div\",{children:[passenger.name,\" - \",/*#__PURE__*/_jsx(\"button\",{className:style.button,onClick:function onClick(){return openEditPopup(index);},children:\"Edit\"})]})},index);})})]}),showNoSpotsPopup&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-4 border border-gray-300 rounded shadow-lg z-10 text-center \".concat(style.popup),children:[/*#__PURE__*/_jsx(\"p\",{children:\"Carpool group is full\"}),/*#__PURE__*/_jsx(\"button\",{className:\"mt-4 px-4 py-2 bg-green-400 text-black rounded hover-bg-blue-700\",onClick:closePopup,children:\"Close\"})]})]});}export default PassengerSignUp;","map":{"version":3,"names":["React","useState","useEffect","useParams","doc","getDoc","collection","addDoc","query","onSnapshot","deleteDoc","db","style","jsx","_jsx","jsxs","_jsxs","PassengerSignUp","_useParams","driverId","_useState","_useState2","_slicedToArray","driverData","setDriverData","_useState3","name","phoneNumber","_useState4","passengerForm","setPassengerForm","_useState5","_useState6","passengers","setPassengers","_useState7","_useState8","remainingSpots","setRemainingSpots","_useState9","_useState10","showNoSpotsPopup","setShowNoSpotsPopup","_useState11","_useState12","editPassengerIndex","setEditPassengerIndex","_useState13","_useState14","verifyPhoneNumber","setVerifyPhoneNumber","_useState15","_useState16","isVerified","setIsVerified","_useState17","_useState18","isConfirmationPopupOpen","setConfirmationPopupOpen","_useState19","_useState20","isLeaving","setIsLeaving","unsubscribeRef","useRef","closePopup","openEditPopup","index","handleVerifyPhoneNumber","handleLeaveOrStay","action","id","confirmLeaveOrStay","fetchDriverData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","driverDocRef","driverDocSnapshot","data","wrap","_callee$","_context","prev","next","sent","exists","console","error","t0","stop","apply","arguments","fetchPassengers","_ref2","_callee2","passengersCollectionRef","q","_callee2$","_context2","current","snapshot","passengerList","forEach","push","_objectSpread","handlePassengerFormSubmit","_ref3","_callee3","e","passengerDocRef","_callee3$","_context3","preventDefault","alert","abrupt","log","_x","availableSeats","seats","length","className","bg","children","container","heading","firstName","lastName","address","onSubmit","form","type","input","placeholder","value","onChange","target","button","map","passenger","onClick","concat","popup"],"sources":["C:/Users/kaust/Carpool App/HackTX-2023-Carpool/src/components/PassengerSignUp.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { doc, getDoc, collection, addDoc, query, onSnapshot, deleteDoc } from \"firebase/firestore\";\nimport { db } from \"./firebase\";\nimport { style } from \"./styles\";\n\nfunction PassengerSignUp() {\n  const { driverId } = useParams();\n  const [driverData, setDriverData] = useState(null);\n  const [passengerForm, setPassengerForm] = useState({\n    name: \"\",\n    phoneNumber: \"\",\n  });\n  const [passengers, setPassengers] = useState([]);\n  let [remainingSpots, setRemainingSpots] = useState(0); // Track available spots\n  const [showNoSpotsPopup, setShowNoSpotsPopup] = useState(false); // State for the pop-up\n  const [editPassengerIndex, setEditPassengerIndex] = useState(null);\n  const [verifyPhoneNumber, setVerifyPhoneNumber] = useState(\"\"); // State for verifying phone number\n  const [isVerified, setIsVerified] = useState(false); // State to track phone number verification\n  const [isConfirmationPopupOpen, setConfirmationPopupOpen] = useState(false);\n  const [isLeaving, setIsLeaving] = useState(false);\n\n  const unsubscribeRef = React.useRef(null);\n\n  const closePopup = () => {\n    setShowNoSpotsPopup(false);\n  };\n\n  const openEditPopup = (index) => {\n    setEditPassengerIndex(index);\n    setVerifyPhoneNumber(\"\");\n  };\n\n  const handleVerifyPhoneNumber = () => {\n    // Implement your phone number verification logic here\n    // Example: if (verifyPhoneNumber === passengers[editPassengerIndex].phoneNumber) setIsVerified(true);\n    setIsVerified(true); // For testing, consider implementing your own logic\n  };\n\n  const handleLeaveOrStay = (action) => {\n    if (action === \"leave\") {\n      // Implement the logic to remove the passenger from the list\n      // Example: const updatedPassengers = passengers.filter((_, index) => index !== editPassengerIndex);\n      // setPassengers(updatedPassengers);\n\n      deleteDoc(doc(db, \"Driver\", driverId, \"passengers\", passengers[editPassengerIndex].id));\n\n      setIsLeaving(true);\n    } else {\n      setConfirmationPopupOpen(true);\n    }\n\n    setEditPassengerIndex(null);\n  };\n\n  const confirmLeaveOrStay = () => {\n    if (isLeaving) {\n      // Implement any additional logic here\n    } else {\n      // Implement any additional logic for staying\n    }\n\n    setConfirmationPopupOpen(false);\n  };\n\n  useEffect(() => {\n    const fetchDriverData = async () => {\n      try {\n        const driverDocRef = doc(db, \"Driver\", driverId);\n        const driverDocSnapshot = await getDoc(driverDocRef);\n\n        if (driverDocSnapshot.exists()) {\n          const data = driverDocSnapshot.data();\n          setDriverData(data);\n        } else {\n          console.error(\"Driver data not found.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching driver data:\", error);\n      }\n    };\n\n    fetchDriverData();\n\n    const fetchPassengers = async () => {\n      try {\n        const passengersCollectionRef = collection(db, \"Driver\", driverId, \"passengers\");\n        const q = query(passengersCollectionRef);\n\n        unsubscribeRef.current = onSnapshot(q, (snapshot) => {\n          const passengerList = [];\n          snapshot.forEach((doc) => {\n            passengerList.push({ id: doc.id, ...doc.data() });\n          });\n          setPassengers(passengerList);\n        });\n      } catch (error) {\n        console.error(\"Error fetching passenger list:\", error);\n      }\n    };\n\n    fetchPassengers();\n\n    return () => {\n      if (unsubscribeRef.current) {\n        unsubscribeRef.current();\n      }\n    };\n  }, [driverId]);\n\n  const handlePassengerFormSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!passengerForm.name || !passengerForm.phoneNumber) {\n      alert(\"Please enter valid passenger information.\");\n      return;\n    }\n\n    if (remainingSpots > 0) {\n      try {\n        const passengersCollectionRef = collection(db, \"Driver\", driverId, \"passengers\");\n        const passengerDocRef = await addDoc(passengersCollectionRef, passengerForm);\n\n        setPassengerForm({\n          name: \"\",\n          phoneNumber: \"\",\n        });\n\n        console.log(\"Passenger sign-up successful. Passenger ID:\", passengerDocRef.id);\n      } catch (error) {\n        console.error(\"Error adding passenger information:\", error);\n      }\n    } else {\n      setShowNoSpotsPopup(true);\n    }\n  };\n\n  const availableSeats = driverData ? driverData.seats : 0;\n  remainingSpots = availableSeats - passengers.length;\n\n  return (\n    <div className={style.bg}>\n      <div className={style.container}>\n        {driverData && (\n          <div className=\"border p-4 rounded-md shadow-lg my-4\">\n            <h1 className={style.heading}>Driver Information</h1>\n            <p className=\"text-gray-800\">\n              <strong>Name:</strong> {driverData.firstName} {driverData.lastName}\n            </p>\n            <p className=\"text-gray-800\">\n              <strong>Phone Number:</strong> {driverData.phoneNumber}\n            </p>\n            <p className=\"text-gray-800\">\n              <strong>Address:</strong> {driverData.address}\n            </p>\n            <p className=\"text-gray-800\">\n              <strong>Available Seats:</strong> {availableSeats}\n            </p>\n            <p className=\"text-gray-800\">\n              <strong>Remaining Spots:</strong> {remainingSpots}\n            </p>\n          </div>\n        )}\n        <h2 className={style.heading}>Passenger Sign-Up Form</h2>\n        <form onSubmit={handlePassengerFormSubmit} className={style.form}>\n          <input\n            type=\"text\"\n            className={style.input}\n            placeholder=\"Name\"\n            value={passengerForm.name}\n            onChange={(e) =>\n              setPassengerForm({ ...passengerForm, name: e.target.value })\n            }\n          />\n          <input\n            type=\"text\"\n            className={style.input}\n            placeholder=\"Phone Number\"\n            value={passengerForm.phoneNumber}\n            onChange={(e) =>\n              setPassengerForm({\n                ...passengerForm,\n                phoneNumber: e.target.value,\n              })\n            }\n          />\n          <button type=\"submit\" className={style.button}>\n            Sign Up\n          </button>\n        </form>\n      </div>\n\n      <div className={style.container}>\n        <h2 className={style.heading}>Current Passengers</h2>\n        <ul>\n          {passengers.map((passenger, index) => (\n            <li key={index}>\n              {editPassengerIndex === index ? (\n                <div>\n                  {isVerified ? (\n                    <div>\n                      <p>Options:</p>\n                      <button className={style.button} onClick={() => handleLeaveOrStay(\"leave\")}>Leave </button>\n                      <button className={style.button} onClick={() => handleLeaveOrStay(\"stay\")}>Stay</button>\n                      <button className={style.button} onClick={() => setEditPassengerIndex(null)}>Log Out</button>\n                    </div>\n                  ) : (\n                    <div>\n                      <p>Verify your identity:</p>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Enter your phone number\"\n                        value={verifyPhoneNumber}\n                        onChange={(e) => setVerifyPhoneNumber(e.target.value)}\n                      />\n                      <button className={style.button} onClick={handleVerifyPhoneNumber}>Verify</button>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <div>\n                  {passenger.name} - <button className={style.button} onClick={() => openEditPopup(index)}>Edit</button>\n                </div>\n              )}\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {showNoSpotsPopup && (\n        <div className={`fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-4 border border-gray-300 rounded shadow-lg z-10 text-center ${style.popup}`}>\n          <p>Carpool group is full</p>\n          <button className=\"mt-4 px-4 py-2 bg-green-400 text-black rounded hover-bg-blue-700\" onClick={closePopup}>\n            Close\n          </button>\n        </div>\n      )}\n\n      {/* {isConfirmationPopupOpen && (\n        <div className={`fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-4 border border-gray-300 rounded shadow-lg z-10 text-center ${style.popup}`}>\n          <p>Do you want to leave or stay in the carpool group?</p>\n          <button className={style.button} onClick={() => handleLeaveOrStay(\"leave\")}>Leave</button>\n          <button className={style.button} onClick={() => handleLeaveOrStay(\"stay\")}>Stay</button>\n          <button className={style.button} onClick={() => setEditPassengerIndex(null)}>Log Out</button>\n        </div>\n      )} */}\n    </div>\n  );\n}\n\nexport default PassengerSignUp;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}