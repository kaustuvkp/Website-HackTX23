{"ast":null,"code":"import _objectSpread from\"C:/Users/kaust/Carpool App/HackTX-2023-Carpool/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/kaust/Carpool App/HackTX-2023-Carpool/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/kaust/Carpool App/HackTX-2023-Carpool/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/kaust/Carpool App/HackTX-2023-Carpool/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{db}from\"./firebase\";import{collection,addDoc,doc,setDoc}from\"firebase/firestore\";// Import the necessary Firestore functions\nimport{Link}from\"react-router-dom\";import{style}from\"./styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DriverSignUp(){var _useState=useState({firstName:\"\",lastName:\"\",phoneNumber:\"\",address:\"\",seats:4,pickupTime:\"\"}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),signupLink=_useState4[0],setSignupLink=_useState4[1];var createTodo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var passengers,driverData,driverDocRef,driverId,signupLink,passengersCollection;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!input.firstName||!input.lastName||!input.phoneNumber)){_context.next=4;break;}alert(\"Please enter valid input for First Name, Last Name, and Phone Number\");return _context.abrupt(\"return\");case 4:passengers=Array(input.seats).fill(\"\");// Initialize the passengers array\ndriverData={firstName:input.firstName,lastName:input.lastName,phoneNumber:input.phoneNumber,address:input.address,seats:input.seats,passengers:passengers// Include the passengers data\n};// Create a new driver document in the \"Driver\" collection with a custom document ID\n// const driverId = `${input.firstName}-${input.lastName}-${input.phoneNumber}`;\n// const driverDocRef = doc(db, \"Driver\", driverId);\n_context.next=8;return addDoc(collection(db,\"Driver\"),driverData);case 8:driverDocRef=_context.sent;driverId=driverDocRef.id;// Set the data for the driver document\n_context.next=12;return setDoc(driverDocRef,driverData);case 12:// Generate and set the signup link\nsignupLink=\"/passenger-signup/\".concat(driverId);setSignupLink(signupLink);passengersCollection=collection(driverDocRef,\"passengers\");setInput({firstName:\"\",lastName:\"\",phoneNumber:\"\",address:\"\",seats:4,pickupTaime:\"\",passengers:passengers});case 16:case\"end\":return _context.stop();}},_callee);}));return function createTodo(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:style.bg,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.container,children:[/*#__PURE__*/_jsx(\"h2\",{className:style.heading,children:\"Driver Sign-Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createTodo,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:style.input,placeholder:\"First Name\",value:input.firstName,onChange:function onChange(e){return setInput(_objectSpread(_objectSpread({},input),{},{firstName:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:style.input,placeholder:\"Last Name\",value:input.lastName,onChange:function onChange(e){return setInput(_objectSpread(_objectSpread({},input),{},{lastName:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:style.input,placeholder:\"Phone Number\",value:input.phoneNumber,onChange:function onChange(e){return setInput(_objectSpread(_objectSpread({},input),{},{phoneNumber:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:style.input,placeholder:\"Pickup Time\"// New input field for pickup time\n,value:input.pickupTime// Value for pickup time\n,onChange:function onChange(e){return setInput(_objectSpread(_objectSpread({},input),{},{pickupTime:e.target.value}));}// Handle pickup time input\n}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:style.input,placeholder:\"Address\"// New input field for address\n,value:input.address// Value for address\n,onChange:function onChange(e){return setInput(_objectSpread(_objectSpread({},input),{},{address:e.target.value}));}// Handle address input\n}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:style.input,placeholder:\"Seats Available\"// New input field for the number of seats\n,value:input.seats// Value for seats\n,onChange:function onChange(e){return setInput(_objectSpread(_objectSpread({},input),{},{seats:e.target.value}));}// Handle seats input\n}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:style.button,children:\"Sign Up\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:style.container,children:signupLink&&/*#__PURE__*/_jsxs(\"div\",{className:style.button,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Your unique signup link is:\"}),/*#__PURE__*/_jsx(Link,{to:signupLink,className:style.count,children:signupLink})]})})]});}export default DriverSignUp;","map":{"version":3,"names":["React","useState","db","collection","addDoc","doc","setDoc","Link","style","jsx","_jsx","jsxs","_jsxs","DriverSignUp","_useState","firstName","lastName","phoneNumber","address","seats","pickupTime","_useState2","_slicedToArray","input","setInput","_useState3","_useState4","signupLink","setSignupLink","createTodo","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","passengers","driverData","driverDocRef","driverId","passengersCollection","wrap","_callee$","_context","prev","next","preventDefault","alert","abrupt","Array","fill","sent","id","concat","pickupTaime","stop","_x","apply","arguments","className","bg","children","container","heading","onSubmit","type","placeholder","value","onChange","_objectSpread","target","button","to","count"],"sources":["C:/Users/kaust/Carpool App/HackTX-2023-Carpool/src/components/DriverSignUp.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { db } from \"./firebase\";\nimport { collection, addDoc, doc, setDoc } from \"firebase/firestore\"; // Import the necessary Firestore functions\nimport { Link } from \"react-router-dom\";\nimport { style } from \"./styles\";\n\nfunction DriverSignUp() {\n  const [input, setInput] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    address: \"\",\n    seats: 4,\n    pickupTime: \"\",\n  });\n\n  const [signupLink, setSignupLink] = useState(null);\n\n  const createTodo = async (e) => {\n    e.preventDefault();\n    if (!input.firstName || !input.lastName || !input.phoneNumber) {\n      alert(\n        \"Please enter valid input for First Name, Last Name, and Phone Number\"\n      );\n      return;\n    }\n\n    const passengers = Array(input.seats).fill(\"\"); // Initialize the passengers array\n\n    const driverData = {\n      firstName: input.firstName,\n      lastName: input.lastName,\n      phoneNumber: input.phoneNumber,\n      address: input.address,\n      seats: input.seats,\n      passengers: passengers, // Include the passengers data\n    };\n\n    // Create a new driver document in the \"Driver\" collection with a custom document ID\n    // const driverId = `${input.firstName}-${input.lastName}-${input.phoneNumber}`;\n    // const driverDocRef = doc(db, \"Driver\", driverId);\n    const driverDocRef = await addDoc(collection(db, \"Driver\"), driverData);\n    const driverId = driverDocRef.id;\n\n    // Set the data for the driver document\n    await setDoc(driverDocRef, driverData);\n\n    // Generate and set the signup link\n    const signupLink = `/passenger-signup/${driverId}`;\n    setSignupLink(signupLink);\n\n    const passengersCollection = collection(driverDocRef, \"passengers\");\n\n    setInput({\n      firstName: \"\",\n      lastName: \"\",\n      phoneNumber: \"\",\n      address: \"\",\n      seats: 4,\n      pickupTaime: \"\",\n      passengers: passengers,\n    });\n  };\n\n  return (\n    <div className={style.bg}>\n    <div className={style.container}>\n      <h2 className={style.heading}>Driver Sign-Up</h2>\n      <form onSubmit={createTodo}>\n        <input\n          type=\"text\"\n          className={style.input}\n          placeholder=\"First Name\"\n          value={input.firstName}\n          onChange={(e) => setInput({ ...input, firstName: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          className={style.input}\n          placeholder=\"Last Name\"\n          value={input.lastName}\n          onChange={(e) => setInput({ ...input, lastName: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          className={style.input}\n          placeholder=\"Phone Number\"\n          value={input.phoneNumber}\n          onChange={(e) => setInput({ ...input, phoneNumber: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          className={style.input}\n          placeholder=\"Pickup Time\" // New input field for pickup time\n          value={input.pickupTime} // Value for pickup time\n          onChange={(e) => setInput({ ...input, pickupTime: e.target.value })} // Handle pickup time input\n        />\n        <input\n          type=\"text\"\n          className={style.input}\n          placeholder=\"Address\" // New input field for address\n          value={input.address} // Value for address\n          onChange={(e) => setInput({ ...input, address: e.target.value })} // Handle address input\n        />\n        <input\n          type=\"number\"\n          className={style.input}\n          placeholder=\"Seats Available\" // New input field for the number of seats\n          value={input.seats} // Value for seats\n          onChange={(e) => setInput({ ...input, seats: e.target.value })} // Handle seats input\n        />\n        <button type=\"submit\" className={style.button}>\n          Sign Up\n        </button>\n      </form>\n    </div>\n    <div className={style.container}>\n      {signupLink && (\n        <div className={style.button}>\n          <p>Your unique signup link is:</p>\n          <Link to={signupLink} className={style.count}>\n            {signupLink}\n          </Link>\n        </div>\n      )}\n    </div>\n    </div>\n  );\n}\n\nexport default DriverSignUp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}